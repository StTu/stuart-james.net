<!DOCTYPE HTML>
<!--
	Future Imperfect by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
  <title>Stuart James' Journal</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!--[if lte IE 8]><script src="js/ie/html5shiv.js"></script><![endif]-->
  <link rel="stylesheet" href="/css/main.css">
  <!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
  <!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
</head>

	<body>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
<header id="header">
  <h1><a href="http://stuart-james.net">Stuart James' Journal</a></h1>
	<nav class="links">
    <!--
    <ul>
      <li><a href="#">Lorem</a></li>
			<li><a href="#">Ipsum</a></li>
			<li><a href="#">Feugiat</a></li>
			<li><a href="#">Tempus</a></li>
			<li><a href="#">Adipiscing</a></li>
		</ul>
  -->
	</nav>
	<nav class="main">
    <ul>
                <!--
								<li class="search">
									<a class="fa-search" href="#search">Search</a>
									<form id="search" method="get" action="#">
										<input type="text" name="query" placeholder="Search" />
									</form>
								</li>
              -->
		  <li class="menu">
		  	<a class="fa-bars" href="#menu">Menu</a>
			</li>
		</ul>
	</nav>
</header>

<!-- Menu -->
<section id="menu">
  <!-- Search -->
  <!--
  <section>
	  <form class="search" method="get" action="#">
	    <input type="text" name="query" placeholder="Search" />
		</form>
	</section>
  -->
	<!-- Links -->
	<section>
	  <ul class="links">
	    <li>
		    <a href="/acknowledgement">
				  <h3>Acknowledgement</h3>
				  <p>Acknowledgement</p>
				</a>
			</li>
    </ul>
	</section>
	<!-- Actions -->
  <!--
  <section>
	  <ul class="actions vertical">
	    <li><a href="#" class="button big fit">Log In</a></li>
    </ul>
  </section>
  -->
</section>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
            <article class="post">
              <header>
                <div class="title">
                  <h2><a href="/2012/04/21/map-a-point-within-a-triangle-from-low-dimensions-to-high.html">Map a point within a triangle from low dimensions to high</a></h2>
                <!-- <p>Lorem ipsum dolor amet nullam consequat etiam feugiat</p> -->
                </div>
                <div class="meta">
                  <time class="published" datetime="2012-04-21">April 21, 2012</time>
                  
									<h6>Read time about 3  minutes</h6>

        <!--
        <a href="#" class="author"><span class="name">Jane Doe</span><img src="images/avatar.jpg" alt="" /></a>
        -->
                </div>
              </header>
              
              <p>The work I have been doing recently is to explore a mapping from a low dimensional space(10d) to a high dimensional space(160d). Although is not a particularly common problem is something that requires a little thinking. </p> <p>The obvious solution is to measure the distance, from the point to the three, triangle points. This of course is difficult to rationalise to a ratio that sums to 1.</p> <p><a href="http://stuartjames.info/Journal/Data/Sites/5/media/wlw/barycentric-basicmapping.jpg"><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Barycentric-BasicMapping" alt="Barycentric-BasicMapping" src="http://stuartjames.info/Data/Sites/5/media/wlw/barycentric-basicmapping_thumb.jpg" width="240" height="240"></a></p> <p>This problem becomes more obvious when a point lies on one of the points on the triangle. For example, this could result in a distance of [0, 50 50]. This distance means that if you project this using this information even if normalised, the point will not lie on the triangle coordinate in the higher dimensional space.</p> <p>To be able to map between two triangles accurately the best solution is to utilise Barycentric coordinates. This turns the 3 points of the triangle into three vertices. Using this information you are then able to solve to find the ratios to accurately map between the two spaces.</p> <p><a href="http://stuartjames.info/Journal/Data/Sites/5/media/wlw/barycentric-mapping.jpg"><img style="display: block; float: none; margin-left: auto; margin-right: auto" title="Barycentric-Mapping" alt="Barycentric-Mapping" src="http://stuartjames.info/Data/Sites/5/media/wlw/barycentric-mapping_thumb.jpg" width="240" height="240"></a></p> <p>Therefore to generate a new point in 2D, you have:</p> <p><img style="display: block; float: none; margin-left: auto; margin-right: auto" src="http://upload.wikimedia.org/wikipedia/en/math/b/e/4/be4c4d7ebd724d5d29a5c81c1275aaef.png"></p> <p>To get to this point we need to solve the equations for lambda, resulting in <em>n</em> equations for each of the different dimensions.</p> <p><img style="display: block; float: none; margin-left: auto; margin-right: auto" src="http://upload.wikimedia.org/wikipedia/en/math/8/6/a/86a453723463219aadced1f1f3abe946.png"></p> <p>This can be solved relatively easily using a linear solver.</p> <p>So now using this information it is easy to project the point from one triangle to the other. We have provided a Matlab solution to be able to easily map using two triangles.</p> <p> <div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:bdb4f38e-3f78-4f8e-b373-deaa63837a01" class="wlWriterEditableSmartContent"><pre style=" width: 626px; height: 176px;background-color:White;overflow: auto;"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span> <span style="color: #000000;">A </span><span style="color: #000000;">=</span><span style="color: #000000;"> [];
</span><span style="color: #008080;">2</span> <span style="color: #000000;">B </span><span style="color: #000000;">=</span><span style="color: #000000;"> [] ;
</span><span style="color: #008080;">3</span> <span style="color: #000000;"></span><span style="color: #0000FF;">for</span><span style="color: #000000;"> i</span><span style="color: #000000;">=</span><span style="color: #800080;">1</span><span style="color: #000000;">:size(ntA,</span><span style="color: #800080;">1</span><span style="color: #000000;">)
</span><span style="color: #008080;">4</span> <span style="color: #000000;">    line </span><span style="color: #000000;">=</span><span style="color: #000000;"> [(ntA(i,</span><span style="color: #800080;">1</span><span style="color: #000000;">) </span><span style="color: #000000;">-</span><span style="color: #000000;"> ntA(i,</span><span style="color: #800080;">3</span><span style="color: #000000;">)) (ntA(i,</span><span style="color: #800080;">2</span><span style="color: #000000;">) </span><span style="color: #000000;">-</span><span style="color: #000000;"> ntA(i,</span><span style="color: #800080;">3</span><span style="color: #000000;">)) ];
</span><span style="color: #008080;">5</span> <span style="color: #000000;">    B </span><span style="color: #000000;">=</span><span style="color: #000000;"> [ B ; (ntA(i,</span><span style="color: #800080;">3</span><span style="color: #000000;">) </span><span style="color: #000000;">-</span><span style="color: #000000;"> Qn(i)) ] ;
</span><span style="color: #008080;">6</span> <span style="color: #000000;">    A </span><span style="color: #000000;">=</span><span style="color: #000000;"> [A ; line];
</span><span style="color: #008080;">7</span> <span style="color: #000000;"></span><span style="color: #0000FF;">end</span><span style="color: #000000;">
</span><span style="color: #008080;">8</span> <span style="color: #000000;">Lambda </span><span style="color: #000000;">=</span><span style="color: #000000;"> linsolve(A,</span><span style="color: #000000;">-</span><span style="color: #000000;">B);</span></div></pre><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div></p>
<p>Therefore you can map the new point using</p>
<div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:9D7513F9-C04C-4721-824A-2B34F0212519:32907cbb-f1e2-417a-be61-2dd87eca602e" class="wlWriterEditableSmartContent"><pre style=" width: 512px; height: 54px;background-color:White;overflow: auto;"><div><!--

Code highlighting produced by Actipro CodeHighlighter (freeware)
http://www.CodeHighlighter.com/

--><span style="color: #008080;">1</span> <span style="color: #000000;">Lambda = [Lambda ; ( 1 - Lambda(1) - Lambda(2) )];
</span><span style="color: #008080;">2</span> <span style="color: #000000;">
</span><span style="color: #008080;">3</span> <span style="color: #000000;">pB = sum(tB .*  repmat(Lambda',[],size(tB,1)),2);</span></div></pre><!-- Code inserted with Steve Dunn's Windows Live Writer Code Formatter Plugin.  http://dunnhq.com --></div>
<p>&nbsp;</p>
<p>You can view a complete version of this code, as well as a test case Files.</p>
<p>See: <a href="files.aspx">Files</a> â€“&gt;&nbsp; Barycentric Coordinates</p>
<p align="right"><em>Equations thanks to the ever wonderful <a href="http://en.wikipedia.org/wiki/Barycentric_coordinate_system_(mathematics)">Wikipedia</a></em></p><br /><a href='http://stuartjames.info/Journal/map-a-point-within-a-triangle-from-low-dimensions-to-high.aspx'>Stuart James</a>&nbsp;&nbsp;<a href='http://stuartjames.info/Journal/map-a-point-within-a-triangle-from-low-dimensions-to-high.aspx'>...</a>

							<hr />
							
							
              <footer>
                <ul class="stats">
                
        <!--
        <li><a href="#">General</a></li>
        <li><a href="#" class="icon fa-heart">28</a></li>
        <li><a href="#" class="icon fa-comment">128</a></li>
        -->
                </ul>
              </footer>
           </article>
  					<ul class="actions pagination">
  					  
  	  				  <li><a href="/2012/04/21/how-smart-phones-change.html" class="button big previous">Previous Post</a></li>
  						
							
  						  <li><a href="/2012/04/27/upgraded-video-player-with-skeleton-search.html" class="button big next">Next Post</a></li>
  						
  					</ul>
					</div>

				<!-- Sidebar -->
					<section id="sidebar">

						<!-- Intro -->
						<section id="intro">
  
	<header>
    
    <h2>Stuart James' Journal</h2>
    
    <div style='float:left;'><a href="http://stuart-james.net" class="logo"><img src="/images/logo.jpg" alt="" /></a></div>
    <div style='float:left;'>
    <p>A simple little place for me to scribble down
	  my thoughts and help my terrible memory</p>
    </div>
    <div style='clear:left;'></div>
	  <hr />
	  <p>A little about me...</p>
		<p>I'm a <strong>Computer Vision</strong> and <strong>Machine learning</strong> researcher at <strong>UCL</strong>. Working in the VECG with
		Tim Weyrich. Previously from <strong>University of Surrey</strong>  where I completed a Post-Doc and PhD studies.</p>

	</header>
</section>


						<!-- Mini Posts -->
						<section>
  <div class="mini-posts">
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/2016/06/23/getting-back-to-books.html">Getting back to books</a></h3>
		      <time class="published" datetime="2016-06-23">June 23, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        
          <a href="/2016/06/23/getting-back-to-books.html" class="image"><img src="/images/blog/2016-06-23-book.jpg" alt="" /></a>
        
		  </article>
									<!-- Mini Post -->
									  <!--
										<article class="mini-post">
											<header>
												<h3><a href="#">Vitae sed condimentum</a></h3>
												<time class="published" datetime="2015-10-20">October 20, 2015</time>
												<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>
											</header>
											<a href="#" class="image"><img src="/images/pic04.jpg" alt="" /></a>
										</article>
									-->
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/2016/06/14/twenty-nine-going-on-thirty.html">29 going on 30</a></h3>
		      <time class="published" datetime="2016-06-14">June 14, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        
          <a href="/2016/06/14/twenty-nine-going-on-thirty.html" class="image"><img src="/images/blog/2016-06-14-birthday.jpg" alt="" /></a>
        
		  </article>
									<!-- Mini Post -->
									  <!--
										<article class="mini-post">
											<header>
												<h3><a href="#">Vitae sed condimentum</a></h3>
												<time class="published" datetime="2015-10-20">October 20, 2015</time>
												<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>
											</header>
											<a href="#" class="image"><img src="/images/pic04.jpg" alt="" /></a>
										</article>
									-->
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/2016/04/20/working-with-british-library-dataset.html">Working with the British Library Dataset</a></h3>
		      <time class="published" datetime="2016-04-20">April 20, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        
          <a href="/2016/04/20/working-with-british-library-dataset.html" class="image"><img src="/images/blog/2016-04-20-header.jpg" alt="" /></a>
        
		  </article>
									<!-- Mini Post -->
									  <!--
										<article class="mini-post">
											<header>
												<h3><a href="#">Vitae sed condimentum</a></h3>
												<time class="published" datetime="2015-10-20">October 20, 2015</time>
												<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>
											</header>
											<a href="#" class="image"><img src="/images/pic04.jpg" alt="" /></a>
										</article>
									-->
    
      <article class="mini-post">
  	    <header>
  		    <h3><a href="/2016/04/14/moving-to-jekyll.html">Moving to Jekyll</a></h3>
		      <time class="published" datetime="2016-04-14">April 14, 2016</time>
						<!--<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>-->
			  </header>
        
          <a href="/2016/04/14/moving-to-jekyll.html" class="image"><img src="/images/blog/jekyll-logo.png" alt="" /></a>
        
		  </article>
									<!-- Mini Post -->
									  <!--
										<article class="mini-post">
											<header>
												<h3><a href="#">Vitae sed condimentum</a></h3>
												<time class="published" datetime="2015-10-20">October 20, 2015</time>
												<a href="#" class="author"><img src="/images/avatar.jpg" alt="" /></a>
											</header>
											<a href="#" class="image"><img src="/images/pic04.jpg" alt="" /></a>
										</article>
									-->
    
  </div>
</section>


						<!-- Posts List -->


						<!-- Footer -->
						<section id="footer">
  <ul class="icons">
  	<li><a href="https://twitter.com/sttujames" class="fa-twitter"><span class="label">Twitter</span></a></li>
		<li><a href="https://github.com/sttu" class="fa-github"><span class="label">GitHub</span></a></li>
		<li><a href="/feed.xml" class="fa-rss"><span class="label">RSS</span></a></li>
		<li><a href="mailto:contact@stuart-james.com" class="fa-envelope"><span class="label">Email</span></a></li>
	</ul>
  <p class="copyright">Copyright &copy; 2016 </p>
   <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-7794553-4', 'auto');
      ga('send', 'pageview');

    </script>
</section>

					</section>
			</div>
		<!-- Scripts -->
		<script src="/js/jquery.min.js"></script>
<script src="/js/skel.min.js"></script>
<script src="/js/util.js"></script>
<!--[if lte IE 8]><script src="/assets/js/ie/respond.min.js"></script><![endif]-->
<script src="/js/main.js"></script>

	</body>
</html>
